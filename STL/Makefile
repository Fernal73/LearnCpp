SHELL := /usr/bin/env bash
CXX = g++
TERMUX_CLEANER = termux-elf-cleaner
SOURCE_CXX = $(BASE).cpp
TARGET = a.out
LDFLAGS_COMMON = -std=c++2a -stdlib=libc++
all:
	$(CXX) $(SOURCE_CXX) $(LDFLAGS_COMMON) -o $(TARGET)
	$(TERMUX_CLEANER) $(TARGET) &> /dev/null
run:
	./$(TARGET)
runswitch:
	./$(TARGET) a
	./$(TARGET) b
	./$(TARGET) c
runset:
	echo "a a a b c foo bar foobar foo bar bar" | ./$(TARGET)
runmultiset:
	echo "a a a b c foo bar foobar foo bar bar" | ./$(TARGET)
runrpn:
	echo "3 1 2 + * 2 /" | ./$(TARGET)
clean:
	rm -rf *.o $(TARGET)
